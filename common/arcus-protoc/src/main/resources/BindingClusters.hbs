////////////////////////////////////////////////////////////////////////////////
// This file has been generated by the Iris Protocol Compiler. To change
// this file please change the underlying IRP file.
////////////////////////////////////////////////////////////////////////////////

package {{package}};

import java.util.HashMap;
import java.util.Map;

import com.arcussmarthome.driver.groovy.zigbee.ClusterBinding;
import com.arcussmarthome.driver.groovy.zigbee.ClusterDescriptor;
import com.arcussmarthome.driver.groovy.zigbee.MessageDecoder;
import com.arcussmarthome.driver.groovy.zigbee.cluster.{{subpackage}}.*;
import com.arcussmarthome.protocol.zigbee.{{subpackage}}.*;

public class Zigbee{{capitalize subpackage}}Clusters {
   public final static Map<String, ClusterDescriptor> descriptorsByName = new HashMap<>();
   {{#if isZcl}}
   public final static Map<Short, MessageDecoder> decodersById = new HashMap<>();
   {{/if}}
   
   static {
      {{#each bindings}}
      descriptorsByName.put("{{toLowerCase this}}", {{this}}Binding.Descriptor.instance());
      {{/each}}
      
      {{#if isZcl}}
      {{#each bindings}}
      decodersById.put({{this}}.CLUSTER_ID, {{this}}Binding.Decoder.instance());
      {{/each}}
      {{/if}}
   }
   
   {{#if isZdp}}
   public final static MessageDecoder[] decoders = new MessageDecoder[] {
      {{#each bindings}}
      {{this}}Binding.Decoder.instance(){{#unless @last}}, {{/unless}}
      {{/each}}
   };
   {{/if}}
   
   public final static ClusterBinding.Factory[] factories = new ClusterBinding.Factory[] {
      {{#each bindings}}
      new {{this}}Binding.Factory(){{#unless @last}}, {{/unless}}
      {{/each}}
   };
}
